<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>测试页面</title>
		<script type="text/javascript" src="js/jquery.min.js"></script>
		<script type="text/javascript">
			$(document).ready(function(){
				
/* 				$("#get_member").click(function(){
					$.ajax({
					type:"GET",//192.168.10.16:8081/u9_app_
					url:"http://localhost:8080/MobileShop"+"/member/"+memberId,
					async:true,
					data:{_method:"GET","memberId":memberId},
					success:function (result) {
						console.log((result.data);
					}
					});

				});
				 */
					
				$("#update").click(function(){
				//测试更新会员信息
					//获取input中的值
					var memberId=getCookie("member_id");
				
					var memberId=$("#memberId").val().trim();
					var uname=$("#uname").val().trim();
					var email=$("#email").val().trim();
					var mobile=$("#mobile").val().trim();
					/* var memberId=19; */
					$.ajax({
						url:"http://localhost:8080/MobileShop"+"/member",
						type:"post",
						dataType:"json",
						//传参时加：_method:"PUT" 将对应后台的put请求方法
						data:{_method:"PUT","memberId":memberId, "uname":uname,
							"email":email,"sex":1,"mobile":mobile},
						/* data:{_method:"GET","memberId":memberId}, */
						success:function(result){
							alert(result.msg);
							window.location.href="index.html"; 
						},
						error:function(){
							alert("更新异常");
						}
					});
				});
			});
		</script>
	</head>
	<body>
		<h3>-----测试更新会员信息-----</h3>
		memberid:<input type="text" id="memberId"/><br/>
		用户名：<input type="text" id="uname"/><br/>
		邮箱：<input type="text" id="email"/><br/>
		电话：<input type="text" id="mobile"/><br/>
		<button id="update">更新</button><!-- <button id="get_member">获取ID</button> -->
		<br/>
	</body>
</html>